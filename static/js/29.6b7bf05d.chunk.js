"use strict";(self.webpackChunkreact_test_1=self.webpackChunkreact_test_1||[]).push([[29],{4029:function(t,e,s){s.r(e),s.d(e,{default:function(){return ut}});var n=s(8683),o=s(5671),r=s(3144),a=s(136),u=s(2882),i=s(2791),l=s(8687),c=s(6868),f={},d="Posts_posts__OYOE0",h="Posts_title__z5k8A",p="Posts_old_posts__xrxVc",_="Post_post__g9gwx",m="Post_photo__BX1GG",v="Post_image__KuFrr",x="Post_likes__pA0GC",j=s(184);var g=function(t){var e=t.post,s=t.profilePhoto,n=t.defaultPhoto;return(0,j.jsxs)("div",{className:_,children:[(0,j.jsx)("img",{className:m,src:s||n,alt:"Image"}),(0,j.jsx)("p",{children:e.text}),(0,j.jsx)("img",{className:v,src:e.img,alt:"Image"}),(0,j.jsxs)("div",{className:x,children:[e.likes," likes"]})]})},P="PostForm_form__TmtbD",k="PostForm_textarea__QFwU2",N="PostForm_button__YXyVW",Z=s(6139),I=s(704),S=s(5304),y=s(2272),T=(0,S.L)(30);function b(t){return(0,j.jsxs)("form",{onSubmit:t.handleSubmit,className:P,children:[(0,j.jsx)(Z.Z,{validate:[S.l,T],element:"textarea",name:"postText",component:y.P,className:k,placeholder:"Enter your post"}),(0,j.jsx)("button",{className:N,children:"Send"})]})}var C=b=(0,I.Z)({form:"post"})(b);var F=function(t){var e=t.posts,s=t.addPost,n=t.defaultPhoto,o=t.photo,r=e.map((function(t,e){return(0,j.jsx)(g,{defaultPhoto:n,profilePhoto:o,post:t},e)}));return(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)(C,{onSubmit:s}),(0,j.jsx)("div",{className:h,children:"My posts"}),(0,j.jsx)("div",{className:p,children:r})]})},w=function(t){(0,a.Z)(s,t);var e=(0,u.Z)(s);function s(){var t;(0,o.Z)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).addPost=function(e){t.props.addPost(e)},t}return(0,r.Z)(s,[{key:"render",value:function(){return(0,j.jsx)(F,(0,n.Z)({},this.props))}}]),s}(i.Component);var M=(0,l.$j)((function(t){return{posts:t.profilePage.posts,photo:t.profilePage.photo,defaultPhoto:t.profilePage.defaultInfo.photos.small}}),{addPost:c.q2})(w),A=s(885),E="Info_info_block__pTuD-",D="Info_bg__mto0o",O="Info_profilePhoto__fOnKJ",z="Info_photo__Xt498",L="Info_input__hPj-G",U="Info_label__6N8lD",G="Info_label_hide__U6QI1",$="Info_info__nVEwR",B="Info_name__hiCCd",V="Info_age__-f3zT",W="Info_city__GTseX",X="Info_job__DzmRZ",q=s(7155),Y="ProfileStatusForm_status__dSylW",K="ProfileStatusForm_edit__BAWx1",Q="ProfileStatusForm_result__xwWAY";var R=function(t){var e=t.editMode,s=t.onChangeStatus,n=t.localStatus,o=t.storeStatus,r=t.deactivateEditMode,a=t.activateEditMode;return(0,j.jsx)("form",{className:Y,children:e?(0,j.jsx)("input",{onChange:s,value:n,onBlur:r,name:"status",className:K,autoFocus:!0}):(0,j.jsx)("div",{onClick:a,className:Q,children:o||"No status"})})};var J=function(t){var e=t.status,s=t.updateStatusThunk,n=(0,i.useState)(!1),o=(0,A.Z)(n,2),r=o[0],a=o[1],u=(0,i.useState)(e),l=(0,A.Z)(u,2),c=l[0],f=l[1];return(0,i.useEffect)((function(){f(e)}),[e]),(0,j.jsx)(R,{editMode:r,storeStatus:e,localStatus:c,activateEditMode:function(){a(!0)},deactivateEditMode:function(){a(!1),s(c)},onChangeStatus:function(t){f(t.target.value)}})};var H=function(t){var e=t.profile,s=t.defaultInfo,n=t.updateStatusThunk,o=t.status,r=t.isOwner,a=t.savePhotoThunk,u=(0,i.useState)(!1),l=(0,A.Z)(u,2),c=l[0],f=l[1];return e?(0,j.jsxs)("div",{className:E,children:[(0,j.jsx)("img",{className:D,src:s.bg,alt:"Image"}),(0,j.jsxs)("div",{onMouseEnter:function(){return r&&f(!c)},onMouseLeave:function(){return r&&f(!c)},className:O,children:[(0,j.jsx)("img",{className:z,src:e.photos.large||s.photos.large,alt:"Image"}),(0,j.jsx)("input",{onChange:function(t){t.target.files.length&&a(t.target.files[0])},id:"photo",className:L,type:"file"}),(0,j.jsx)("label",{htmlFor:"photo",className:c?U:"".concat(U," ").concat(G),children:"Update"})]}),(0,j.jsxs)("div",{className:$,children:[(0,j.jsx)("div",{className:B,children:e.fullName||s.fullName}),(0,j.jsx)("div",{className:V,children:e.age||s.age}),(0,j.jsx)("div",{className:W,children:e.city||s.city}),(0,j.jsx)("div",{className:X,children:e.job||s.job})]}),(0,j.jsx)(J,{updateStatusThunk:n,status:o})]}):(0,j.jsx)(q.Z,{})},tt=function(t){(0,a.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,j.jsx)(H,(0,n.Z)({},this.props))}}]),s}(i.Component);var et=(0,l.$j)((function(t){return{profile:t.profilePage.profile,defaultInfo:t.profilePage.defaultInfo,status:t.profilePage.status}}))(tt);var st=function(t){var e=t.getStatusThunk,s=t.updateStatusThunk,n=t.isOwner,o=t.savePhotoThunk;return(0,j.jsx)("main",{className:f.profile,children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)(et,{getStatusThunk:e,updateStatusThunk:s,isOwner:n,savePhotoThunk:o}),(0,j.jsx)(M,{})]})})},nt=s(3636),ot=s(7781),rt=s(2211),at=function(t){(0,a.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId||25369),this.props.getProfileThunk(t),this.props.getStatusThunk(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){t.router.params.userId!=this.props.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)(st,(0,n.Z)({isOwner:!this.props.router.params.userId},this.props))}}]),s}(i.Component),ut=(0,ot.qC)((0,l.$j)((function(t){return{isAuth:t.auth.isAuth,authorizedUserId:t.auth.userId}}),{getProfileThunk:c.VB,getStatusThunk:c.$b,updateStatusThunk:c.dw,savePhotoThunk:c.zL}),nt.D,rt.Z)(at)},2272:function(t,e,s){s.d(e,{P:function(){return l}});var n=s(8683),o=s(5987),r="FormsControls_form_control__xys1c",a="FormsControls_error__lLL98",u=s(184),i=["input","meta"],l=function(t){var e=t.input,s=t.meta,l=s.touched,c=s.error,f=(0,o.Z)(t,i),d=l&&c;return(0,u.jsxs)("div",{className:"".concat(r," ").concat(d?a:""),children:[(0,u.jsx)(f.element,(0,n.Z)((0,n.Z)({},e),f)),(0,u.jsx)("span",{children:c})]})}},3636:function(t,e,s){s.d(e,{D:function(){return h}});var n=s(8683),o=s(5671),r=s(3144),a=s(136),u=s(2882),i=s(2791),l=s(6871),c=s(8687),f=s(184),d=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var e=function(e){(0,a.Z)(i,e);var s=(0,u.Z)(i);function i(){return(0,o.Z)(this,i),s.apply(this,arguments)}return(0,r.Z)(i,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(t,(0,n.Z)({},this.props)):(0,f.jsx)(l.Fg,{to:"/login"})}}]),i}(i.Component);return(0,c.$j)(d)(e)}},5304:function(t,e,s){s.d(e,{L:function(){return o},l:function(){return n}});var n=function(t){return t?void 0:"Field is required"},o=function(t){return function(e){return e.length>t?"Max length is ".concat(t," sybmlos"):void 0}}}}]);
//# sourceMappingURL=29.6b7bf05d.chunk.js.map